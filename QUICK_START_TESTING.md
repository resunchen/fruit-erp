# 🚀 快速启动测试指南

## ⚡ 5 分钟快速启动

### 步骤 1：启动后端服务 (1分钟)

```bash
cd /Users/apple/projects/fruit-erp/backend
npm run dev
```

✅ 看到以下输出时表示启动成功：
```
Server running on http://localhost:3000
Environment: development
```

### 步骤 2：启动前端应用 (1分钟)

在新的终端窗口：
```bash
cd /Users/apple/projects/fruit-erp/frontend
npm run dev
```

✅ 看到以下输出时表示启动成功：
```
VITE v5.x.x  ready in xxx ms
➜  Local:   http://localhost:5173/
➜  press h to show help
```

### 步骤 3：清空缓存并打开应用 (1分钟)

1. 打开浏览器，进入 `http://localhost:5173`
2. 按 `Ctrl+Shift+Delete` (或 `Cmd+Shift+Delete` on Mac)
3. 选择"所有时间"，点击"清除"
4. 刷新页面

### 步骤 4：登录应用 (1分钟)

使用之前创建的账户登录，或者创建新账户

### 步骤 5：开始测试 (1分钟)

导航到 "供应商管理" 或 "采购订单" 页面

---

## 📊 测试数据一览

| 类别 | 数量 | 说明 |
|------|------|------|
| 供应商 | 5 个 | 来自不同地区的果业公司 |
| 采购订单 | 20 条 | 随机分配给各供应商 |
| 订单项目 | 38 个 | 各种水果品类和等级 |
| 成本项 | 46 条 | 各类成本数据 |

### 供应商列表
```
1. 山东青岛海洋果业
2. 福建漳州热带水果基地
3. 云南昆明高原果园
4. 浙江杭州滨江果蔬合作社
5. 广西南宁东盟水果市场
```

---

## ✅ 快速测试清单

完成以下操作，确保系统正常工作：

### 供应商管理
- [ ] 查看供应商列表 (应显示 5 个供应商)
- [ ] 点击供应商查看详情
- [ ] 编辑某个供应商的信息
- [ ] 创建一个新供应商
- [ ] 删除最后创建的供应商

### 采购订单
- [ ] 查看订单列表 (应显示 20 条订单)
- [ ] 点击订单查看详情 (应显示项目、成本等)
- [ ] 在搜索框搜索 "PO-" (应过滤订单)
- [ ] 编辑某个订单
- [ ] 创建一个新订单 (手动或 AI)
- [ ] 删除最后创建的订单

### 浏览器检查
- [ ] 打开开发者工具 (F12)
- [ ] 进入 Network 标签
- [ ] 执行操作时检查请求 URL
  - ✅ 正确: `http://localhost:3000/api/v1/purchase/orders`
  - ❌ 错误: `http://localhost:3000/purchase/orders`
- [ ] 检查响应状态码 (应为 200/201，不是 404)
- [ ] 检查 Console 标签，无红色错误

---

## 🎯 关键测试点

### 1. API 404 修复验证 ⭐⭐⭐

**最重要的是确认 404 错误已完全修复**

操作流程：
1. 打开浏览器开发者工具 (F12)
2. 进入 **Network** 标签
3. 清空请求日志
4. 访问采购订单页面
5. 查看 Network 中的请求

**预期结果**：
```
✅ GET http://localhost:3000/api/v1/purchase/orders  200
✅ 响应体: JSON 格式的订单列表
✅ 响应头: Content-Type: application/json
```

**错误信号**：
```
❌ http://localhost:3000/api/v1/purchase/orders  404
❌ 响应体: HTML (<html>...</html>)
❌ 响应头: Content-Type: text/html
```

### 2. 数据完整性检查

订单列表应显示：
- ✅ 订单号 (PO-...)
- ✅ 供应商名称
- ✅ 总金额
- ✅ 状态 (draft/pending/confirmed/completed)
- ✅ 创建时间

订单详情应显示：
- ✅ 订单基本信息
- ✅ 订单项目列表 (水果、数量、单价、总价)
- ✅ 成本数据 (产地包装费、代办费等)
- ✅ 总金额计算正确

### 3. CRUD 操作验证

每个操作后检查：
- ✅ 是否显示成功提示
- ✅ 数据是否立即更新
- ✅ 是否有任何错误提示
- ✅ 是否能刷新页面后仍然生效

---

## 🔧 常见问题快速解决

### 问题：看不到任何数据

**步骤**:
1. 检查后端是否运行: `http://localhost:3000/health`
2. 检查前端缓存: `Ctrl+Shift+Delete`
3. 检查浏览器控制台是否有错误

### 问题：看到 404 错误

**步骤**:
1. 重启前端: `Ctrl+C` 然后 `npm run dev`
2. 清空缓存: `Ctrl+Shift+Delete`
3. 刷新页面

### 问题：修改数据未保存

**步骤**:
1. 打开浏览器 Network 标签
2. 执行修改操作
3. 检查 PUT/PATCH 请求状态
4. 查看响应是否是 JSON

---

## 📈 预期成功指标

| 指标 | 预期值 | 实际值 | 通过 |
|------|--------|--------|------|
| 供应商显示数 | 5 | _ | _ |
| 订单显示数 | 20 | _ | _ |
| API 404 错误数 | 0 | _ | _ |
| 创建操作成功率 | 100% | _ | _ |
| 编辑操作成功率 | 100% | _ | _ |
| 删除操作成功率 | 100% | _ | _ |

---

## 💡 下一步

测试完成后：

### 如果全部通过 ✅
- 编写测试总结报告
- 开始开发第 2 阶段功能（仓储、打包、成本核算模块）

### 如果有部分失败 ❌
1. 记录具体错误信息
2. 在浏览器 Network 标签中获取请求/响应详情
3. 查看浏览器控制台中的错误堆栈
4. 反馈给开发团队

---

**建议花费时间**: 30-60 分钟
**难度**: 简单 (只需点击操作)
**所需工具**: 浏览器 + 两个终端窗口

祝你测试顺利！🎉
