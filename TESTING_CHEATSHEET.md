# 🎯 测试快速参考卡

## 🚀 一键启动

### Terminal 1 - 后端
```bash
cd /Users/apple/projects/fruit-erp/backend && npm run dev
```
✅ 看到 `Server running on http://localhost:3000`

### Terminal 2 - 前端
```bash
cd /Users/apple/projects/fruit-erp/frontend && npm run dev
```
✅ 看到 `VITE ...ready in` 和 `Local: http://localhost:5173`

### Browser
1. 访问 `http://localhost:5173`
2. 清缓存: `Ctrl+Shift+Delete` (或 `Cmd+Shift+Delete` Mac)
3. 登录应用

---

## 📱 核心功能导航

### 页面 1：供应商管理
**URL**: `http://localhost:5173/suppliers`
```
✅ 查看 5 个供应商
✅ 新增供应商
✅ 编辑供应商信息
✅ 删除供应商
```

### 页面 2：采购订单列表
**URL**: `http://localhost:5173/purchase-orders`
```
✅ 查看 20 个订单
✅ 搜索订单 (输入 "PO-")
✅ 分页浏览
✅ 新增订单
✅ AI 创建订单
```

### 页面 3：订单详情
**URL**: `http://localhost:5173/purchase-orders/{id}`
```
✅ 订单基本信息
✅ 订单项目列表
✅ 成本数据
✅ 编辑订单
✅ 删除订单
```

---

## 🧪 快速测试场景

### 场景 1：查看数据
```
1. 打开采购订单页面
2. 预期: 看到 20 条订单
3. 预期: 每条订单显示订单号、供应商、总金额
4. 检查: Network 标签中的 GET 请求返回 200
```

### 场景 2：创建订单
```
1. 点击 "+ 新增订单"
2. 选择供应商 (如"山东青岛海洋果业")
3. 输入水果名称、数量、单价
4. 点击 "提交"
5. 预期: 显示 "创建成功"，新订单出现在列表
```

### 场景 3：AI 创建订单
```
1. 点击 "🤖 AI 智能创建"
2. 粘贴文本:
   西瓜 13600斤 4.9元/斤 代办费0.05元/斤 中转运费1400元
3. 点击 "解析"
4. 预期: 识别所有信息并显示
5. 点击 "确认并创建"，选择供应商，确认
```

### 场景 4：编辑订单
```
1. 在列表点击 "编辑"
2. 修改订单信息 (如数量、单价)
3. 点击 "保存"
4. 预期: 显示 "编辑成功"，数据立即更新
```

### 场景 5：删除订单
```
1. 在列表或详情页点击 "删除"
2. 确认删除
3. 预期: 订单从列表移除，显示 "删除成功"
```

---

## 🔍 浏览器检查清单

### F12 开发者工具 - Network 标签

**采购订单列表 GET 请求**
```
URL: http://localhost:3000/api/v1/purchase/orders
Status: ✅ 200 OK
Response: JSON array of orders
```

**创建订单 POST 请求**
```
URL: http://localhost:3000/api/v1/purchase/orders
Status: ✅ 201 Created
Body: {"id": "...", "order_number": "PO-...", ...}
```

**编辑订单 PUT 请求**
```
URL: http://localhost:3000/api/v1/purchase/orders/{id}
Status: ✅ 200 OK
Body: Updated order data
```

**删除订单 DELETE 请求**
```
URL: http://localhost:3000/api/v1/purchase/orders/{id}
Status: ✅ 204 No Content
```

**AI 解析 POST 请求**
```
URL: http://localhost:3000/api/v1/ai/parse-purchase
Status: ✅ 200 OK
Response: {
  "product_name": "西瓜",
  "quantity": 13600,
  "unit": "斤",
  "unit_price": 4.9,
  ...
}
```

### F12 开发者工具 - Console 标签
```
✅ 没有红色错误信息
✅ 没有警告信息 (黄色)
✅ 信息输出应该是调试日志
```

---

## ✅ 成功标准表

| 功能 | 操作 | 预期结果 | 检查项 |
|------|------|---------|--------|
| 列表显示 | 打开订单页面 | 显示 20 条订单 | 数据完整 |
| 搜索 | 输入 "PO-" | 过滤显示匹配订单 | 功能正常 |
| 创建 | 新增订单 | 显示成功提示 | 数据已保存 |
| 详情 | 点击查看 | 显示完整信息 | 项目、成本都显示 |
| 编辑 | 修改数据 | 显示成功提示 | 数据已更新 |
| 删除 | 删除订单 | 显示成功提示 | 数据已移除 |
| AI 解析 | 输入文本 | 自动识别信息 | 准确度 ≥ 80% |
| API | Network 检查 | 无 404 错误 | 状态码 200/201 |

---

## 🆘 故障排查速查表

| 问题 | 症状 | 解决方案 |
|------|------|---------|
| 看不到数据 | 列表为空 | 1. 检查后端运行<br>2. 清缓存<br>3. 刷新页面 |
| 404 错误 | API 返回 404 | 1. 重启前端<br>2. 清缓存<br>3. 检查 URL 是否包含 `/api/v1` |
| 创建失败 | 点击提交无反应 | 1. 检查 Network 中 POST 请求<br>2. 查看控制台错误<br>3. 检查表单是否完整 |
| 数据未保存 | 修改后刷新消失 | 1. 检查 PUT 请求状态<br>2. 查看响应体<br>3. 检查是否有权限 |
| 性能问题 | 页面加载慢 | 1. 检查数据量<br>2. 检查网络速度<br>3. 清浏览器缓存 |

---

## 📊 数据速查表

### 5 个供应商
```
1. 山东青岛海洋果业 (18566778899)
2. 福建漳州热带水果基地 (13812345678)
3. 云南昆明高原果园 (15987654321)
4. 浙江杭州滨江果蔬合作社 (18888888888)
5. 广西南宁东盟水果市场 (13333333333)
```

### 8 种水果品类
```
西瓜、芒果、葡萄、苹果、橙子、香蕉、樱桃、桃子
```

### 成本类型
```
产地包装费、代办费、田间杂费、运输费、仓储费
```

### 订单状态
```
draft (草稿)、pending (待处理)、confirmed (已确认)、completed (已完成)
```

---

## 💻 命令速查表

### 后端命令
```bash
# 启动开发服务器
cd backend && npm run dev

# 生成测试数据
cd backend && npx ts-node scripts/seed-test-data.ts

# 构建生产版本
cd backend && npm run build

# 运行单元测试
cd backend && npm test
```

### 前端命令
```bash
# 启动开发服务器
cd frontend && npm run dev

# 构建生产版本
cd frontend && npm run build

# 预览生产构建
cd frontend && npm run preview

# 代码检查
cd frontend && npm run lint
```

---

## 🎬 录屏场景 (30秒版本)

如果要录制展示视频，按以下顺序操作：

1. **5秒**: 打开浏览器，展示订单列表 (20 条订单)
2. **5秒**: 点击搜索，输入 "PO-"，显示过滤结果
3. **5秒**: 点击某订单，显示详情 (项目、成本等)
4. **5秒**: 点击 "AI 智能创建"，粘贴文本，点解析，显示结果
5. **5秒**: 打开 F12 Network，显示 API 请求和 200 状态码
6. **5秒**: 返回订单列表，显示最终状态

---

## 📈 关键性能指标 (KPI)

### 响应时间
```
列表加载: < 2 秒
搜索响应: < 1 秒
详情加载: < 1.5 秒
AI 解析: < 3 秒
```

### 成功率
```
API 成功率: 100% (无 4xx/5xx 错误)
数据准确率: 100% (无数据丢失)
UI 响应率: 100% (无界面卡顿)
```

---

## 📝 测试日志模板

```
测试日期: ___________
测试者: ___________

[x] 后端启动成功
[x] 前端启动成功
[x] 能看到 20 条订单
[x] 搜索功能正常
[x] 能查看订单详情
[x] 能创建订单
[x] 能编辑订单
[x] 能删除订单
[x] AI 解析功能正常
[x] 无 404 错误
[x] Network 请求正常
[x] Console 无错误

总体评价: ___________
发现的问题: ___________
建议: ___________
```

---

**更新时间**: 2025-12-24
**版本**: 1.0
**适用版本**: Phase 1 (Week 1-4)
